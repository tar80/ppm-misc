function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var n={ppmName:"ppx-plugin-manager",ppmVersion:.95,language:"ja",encode:"utf16le",nlcode:"\r\n",nltype:"crlf",ppmID:"P",ppmSubID:"Q"},validArgs=function(){for(var n=[],e=PPx.Arguments;!e.atEnd();e.moveNext())n.push(e.value);return n},safeArgs=function(){for(var n=[],e=validArgs(),t=0,r=arguments.length;t<r;t++)n.push(_valueConverter(t<0||arguments.length<=t?undefined:arguments[t],e[t]));return n},_valueConverter=function(n,e){if(null==e||""===e)return null!=n?n:undefined;switch(typeof n){case"number":var t=Number(e);return isNaN(t)?n:t;case"boolean":return null!=e&&"false"!==e&&"0"!==e;default:return e}};Array.prototype.indexOf||(Array.prototype.indexOf=function(n,e){var t;if(null==this)throw new Error('Array.indexOf: "this" is null or not defined');var r=Object(this),a=r.length>>>0;if(0===a)return-1;var i=null!=e?e:0;if(Math.abs(i)===Infinity&&(i=0),i>=a)return-1;for(t=Math.max(i>=0?i:a-Math.abs(i),0);t<a;){if(t in r&&r[t]===n)return t;t++}return-1});var ppx_Discard=function(n,e){var t;PPx.StayMode=0,e=null!=(t=e)?t:"","DEBUG"===n&&PPx.linemessage("[DEBUG] discard "+e)},e=["KC_main","KV_main","KV_img","KV_crt","KV_page","KB_edit","K_ppe","K_edit","K_lied"],_validTable=function(n){return~e.indexOf(n)?n:"KC_main"},_linecust=function(n,e,t){return"*linecust "+n+","+e+":"+t+","},_discard=function(n){return function(e){var t=e.table,r=e.label,a=e.mapkey,i=e.cond,u=void 0===i?"instantly":i,o=e.debug,l=void 0===o?"0":o,s=PPx.StayMode,c=PPx.Extract("%n"),f=PPx.Extract('%*name(C,"%FDV")'),d=_validTable(t),p=_linecust(""+r+c,d,n),x=_linecust(""+r+c,d,"CLOSEEVENT"),P={instantly:"",once:'*if("'+c+'"=="%n")%:',hold:'*if("'+c+'"=="%n")&&("'+f+'"!="%*name(C,"%FDV")")%:'},h=[p,x];a&&(PPx.Execute("*mapkey use,"+a),h.push("*mapkey delete,"+a)),h.push('*js ":'+s+',ppx_Discard",'+l+","+r),PPx.Execute(p+"%(*if %*stayinfo("+s+")%:"+P[u]+h.join("%:")+"%)"),PPx.Execute(x+"%("+P.once+x+"%:"+p+"%)"),PPx.Execute('*run -breakjob -nostartmsg -wait:no %0pptrayw.exe -c %%K"@LOADCUST"')}},t=(_discard("ACTIVEEVENT"),{hold:function(n,e){void 0===e&&(e="0");var t=PPx.StayMode;_setEvent("KC_main","LOADEVENT",n+"%n",'*script ":'+t+',ppx_Discard",'+e+","+n,"hold")},discard:_discard("LOADEVENT")}),_setEvent=function(n,e,t,r,a){var i="*linecust "+t+","+_validTable(n),u=i+":"+e+",",o={instantly:"",once:'*if("%n"=="%%n")',hold:'*if("%n"=="%%n")&&("%FDV"=="%%FDV")'}[a];PPx.Execute(i+":"+e+","+o+"%%:"+u+"%%:"+r),PPx.Execute('%K"@LOADCUST"')},cache={},main=function(){var n=safeArgs("1","0"),e=n[0],r=n[1];PPx.StayMode=2,ppx_resume(e,r),t.hold("misc_swap",r)},ppx_finally=function(){return PPx.Echo("[WARN] instance remain swapMarkHighlight.stay.js")},ppx_resume=function(e,t){for(var r={},a="DEBUG"===t,i=["[DEBUG]"],u=PPx.Entry.AllEntry;!u.atEnd();u.moveNext())if(!(u.State<2)){var o=u.Highlight;if(1===u.Mark){var l;u.Mark=0;var s=null!=(l=cache[u.Name])?l:Number(e);u.Highlight=s,r[u.Name]=s}else o>0&&(u.Mark=1,u.Highlight=0,r[u.Name]=o,a&&i.push(u.Name+": "+o))}cache=_extends({},r),a&&i.length>1&&PPx.linemessage(i.join(n.nlcode))};main();
